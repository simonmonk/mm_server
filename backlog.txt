MM Server Backlog
==================

Rails Cheat sheet
$ rails server
$ bin/rails generate migration AddStateToRetailerAddreses
$ rails generate scaffold Region name:string
$ rails db:migrate
$ rails g scaffold Post title:string body:string



New rule for shipments list.

Amazon orders (both) should count as invoiced as long as they are shipped.
Shipment line items for Amazon.com should have extra columns for retail price dollars, extended price in dollars.
This is done, but the total needs to be in dollars too. Also change the Copy Customs Dec field so that it prepends the name.
---

Shipments
-----------

Packing List should show foreign skus

Eduporium dollar amounts in adding order lines show pound symbol

Checkboix - show cancelkled orders

Implement follow on orders

Need to be able to edit shipping cost and other fields in Shipment even after its shipped.
- currently solved by being able to unship it.

Sending samples - need to be able to do without assigning invoice number.
- 'special customer'

adding items to list - make default qty 0.
x Packing list - shipping type not appearing in packing list
Need to refresh to get line items not red if they were ever red.
Ship button does not appear.
x Invoive number
x Invoice number on new screen of first new shipment should say 'click Save to assign'



Catalog and Website
--------------------
Add new HTML genberation for:
- List of retailers. To do this will need to add to db: url for customer logo (), cust logo for buy link (70x30), 
          region (Region table)
- Product Pages (Is this time for a new Vue/Bootstrap website)
-- types of pages we have:
welcome - appeal to potential retailers
products list - for retailers
products groups (micro:bit)
product page - information for end users
contact - for potential retailers
-- what we should also have
- help forum for end users. Ask here, reply here, not private emails
- customer portal online P.O.
- Learn pages like Adafruit?

- this looks good - downloaded the app. https://mobirise.com


How to do this.
- How are images handled?
- Where does the verbose product details and getting started material go? Still a job for a CMS when you get to the actual body.
- Is there a nice CMS that uses Node? and maybe produces PDF like AdaFruit


Working on Shipments
--------------------
Add billing email and possibly shipping email to customer and tracking number to shipment.
auto send emails on Despatch (Linda has temnplate)



Stock Report
-------------

From welcome page add a button to generate stock report - also set a crontab to generate this on 31 Dec.

3 sections - Parts, assemblies, products
name, qty, cost (GBP), extended cost
Total


Nice stuff
---------
Parts and view of parts in order-in to show previous prices and who from.


BUGS
----

Parts no longer show what they are used in.

Invoives: Checkbox for VAT should be applied to shipping - Uncompleted and probably needs backing out.




OrderIns, setting price on an order line does not seem to update the price for the part, either when added to the list, or when marked as received.
- Logic should be: set the price and currency when order line added, as long as the price is > 0


Global
======
DB TRANSACTIONS



Shipments and Reatilers
---------
option to amend quantities of line items. 
Should not be able to create invice for ST you don't have all the stock for.
must cope with assemblies that can easily be converted to product to allow the shipment.
Stock allocated to customer can't be shared.



OrdersIn
---------

Add delivery address to Purchase Order and make formal like the invoice. Both versions. Add MM as supplier and chose default delivery addresses for overide from the list of suppliers.

Need more info about parts - which products/assemblies used in and qty per product/assembly. Info button that makes hovering window to show?



+ Manufacturing Jobs // supports only complete jobs that are 'kitted' and finish
---------------------
+ start date
+ target completion date
+ worker
+ product being made
+ assembly being made
+ quantity total
+ quantity completed
+ quantity collected - but write collection to transaction log
+ hours worked (e.g. Katie / Jackie)
+ piece work price per unit
+ payment type hourly / piece
+ amount earnt for this job
+ amount received for this job

function to check parts/assemblies out of stock
function to check products/assemblies into stock - checkbox for physically collected
function to produce parts / assemblies list


+ Worker
--------
+ name
calc field for amount to pay
function to pay worker



Dashboard
---------

List of outstanding orders.
Overdue payments. invoice date + 
Oustanding VAT invoices - all orders where VAT invoice received == no
Partially complete orders (not all items received)
Catlogs out of date
Calcultae meaningful low stock info based on lead times.

generate VAT report - cost of products sold and shipping and vat due.
 					- think about same for goods bought. // prob not as too complicated to map onto exisitng spreadsheet.


UI review
----
Dashboard
--
Stock take only done on 31 Dec and needs to show stock at both Amazons

- parts from supplier add cols: code, num in stock, low stock level





Order list of goods
- way to add 0 of everything they sell, or at least be reminded of everything they sell.

Parts list - only show if used in an assembly or product, but check-box to show all.

Assemblies list - only show if used in an active product

Retailers get rid of columns in middle



Check what happens when deduct products for shipments if there aren't enough ditto for parts and assemblies for a product. Introduce transactions.


Nice to have
--

Automatic email when shipment sent.
